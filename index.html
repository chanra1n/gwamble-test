<!DOCTYPE html>
<html>

<head>
    <title>GWAMBLE</title>
    <link rel="stylesheet" type="text/css" href="css/lib/remixicon.css">
    <link rel="stylesheet" type="text/css" href="css/lib/uikit.css">
    <link rel="stylesheet" type="text/css" href="css/custom/index.css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="theme-color" content="#000">
    <meta name="background-color" content="#000">
    <meta name="msapplication-TileColor" content="#000">

</head>

<body>
    <nav id = "gwamble-bar" uk-navbar>
        <h1>gwamble</h1>
    </nav>

    <div id = "gwamble-body">

    <div id = "create-gwamble-container" class = "gwamble-option" onclick = "createGwamble()">
    <span>Start gwambling</span>
    <i id = "create-gwamble-icon" class="ri-sticky-note-add-fill"></i>

    <div id = "create-gwamble-options">
        <hr>
        <span class = "small-title" >Subject</span>
        <textarea id = "create-gwamble-subject" placeholder = "..."></textarea>
        <br>
        <span class = "small-title" >Outcome A</span>
        <input type = "text" placeholder = "...">
        <br>
        <span class = "small-title" >Outcome B</span>
        <input type = "text" placeholder = "...">
        <br>
        <br>
    <button>Post</button>
    </div>
    </div>

    <div id = "join-gwamble-container" class = "gwamble-option">
    <span>Join a gwamble</span>
    <i id = "join-gwamble-icon" class="ri-link-m"></i>
    </div>

    </div>
</body>
<script src="js/lib/uikit.js"></script>
<script>


    var create_gwamble_is_triggered = false;
    var join_gwamble_is_triggered = false;

    function createGwamble() {
        document.getElementById('create-gwamble-container').style.flexDirection = "column";
        document.getElementById('create-gwamble-container').style.height = "0";
        document.getElementById('create-gwamble-container').offsetHeight;
        document.getElementById('create-gwamble-container').style.height = "100%";
        document.getElementById('create-gwamble-options').style.display = "flex";
        setTimeout(function() {
            document.getElementById('create-gwamble-options').style.opacity = "100%";
            document.getElementById('create-gwamble-options').style.pointerEvents = "all";
            document.getElementById('join-gwamble-container').style.display = "none";   
        }, 1);
        create_gwamble_is_triggered = true;
        toggleCloseIcon();
    }

    function toggleCloseIcon() {
        if (create_gwamble_is_triggered) {
            document.getElementById('create-gwamble-icon').classList.remove('ri-sticky-note-add-fill');
            document.getElementById('create-gwamble-icon').classList.add('ri-close-fill');
            document.getElementById('create-gwamble-container').setAttribute('onclick', 'closeCreateGwamble()');
        } else {
            document.getElementById('create-gwamble-icon').classList.remove('ri-close-fill');
            document.getElementById('create-gwamble-icon').classList.add('ri-sticky-note-add-fill');
            document.getElementById('create-gwamble-container').setAttribute('onclick', 'createGwamble()');
        }

        if (join_gwamble_is_triggered) {
            document.getElementById('join-gwamble-icon').classList.remove('ri-link-m');
            document.getElementById('join-gwamble-icon').classList.add('ri-close-fill');
            document.getElementById('join-gwamble-container').setAttribute('onclick', 'closeJoinGwamble()');
        } else {
            document.getElementById('join-gwamble-icon').classList.remove('ri-close-fill');
            document.getElementById('join-gwamble-icon').classList.add('ri-link-m');
            document.getElementById('join-gwamble-container').setAttribute('onclick', 'joinGwamble()');
        }
    }

    function closeCreateGwamble() {
        document.getElementById('create-gwamble-options').style.opacity = "0";
        document.getElementById('create-gwamble-options').style.display = "none";
        document.getElementById('create-gwamble-options').style.pointerEvents = "none";
        document.getElementById('create-gwamble-container').style.height = "0";
        setTimeout(function() {
            document.getElementById('create-gwamble-container').style.height = "unset";
            document.getElementById('join-gwamble-container').style.display = "block";
            document.getElementById('create-gwamble-container').style.flexDirection = "row";
        }, 300);
        create_gwamble_is_triggered = false;
        toggleCloseIcon();
    }

    


</script>

</html>
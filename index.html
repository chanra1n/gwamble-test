<!DOCTYPE html>
<html>

<head>
    <title>GWAMBLE</title>
    <link rel="stylesheet" type="text/css" href="css/lib/remixicon.css">
    <link rel="stylesheet" type="text/css" href="css/lib/uikit.css">
    <link rel="stylesheet" type="text/css" href="css/custom/index.css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" sizes="72x72" href="https://csclubhumboldt.org/images/icons/icon-72x72.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://csclubhumboldt.org/images/icons/icon-96x96.png">
    <link rel="icon" type="image/png" sizes="128x128" href="https://csclubhumboldt.org/images/icons/icon-128x128.png">
    <link rel="icon" type="image/png" sizes="144x144" href="https://csclubhumboldt.org/images/icons/icon-144x144.png">
    <link rel="icon" type="image/png" sizes="152x152" href="https://csclubhumboldt.org/images/icons/icon-152x152.png">
    <link rel="icon" type="image/png" sizes="192x192" href="https://csclubhumboldt.org/images/icons/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="384x384" href="https://csclubhumboldt.org/images/icons/icon-384x384.png">
    <link rel="icon" type="image/png" sizes="512x512" href="https://csclubhumboldt.org/images/icons/icon-512x512.png">
    <meta name="theme-color" content="#ffc0cb">
    <meta name="background-color" content="#ffc0cb">
    <meta name="msapplication-TileColor" content="#ffc0cb">
    <meta name="msapplication-TileImage" content="https://csclubhumboldt.org/images/icons/icon-144x144.png">
    <meta name="msapplication-config" content="https://csclubhumboldt.org/browserconfig.xml">
    <meta name="application-name" content="gwamble">
    <meta name="apple-mobile-web-app-title" content="gwamble">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">

</head>

<body>
    <nav id="gwamble-bar" uk-navbar>
        <h1>gwamble</h1>
    </nav>

    <div id="gwamble-body">

        <div id="create-gwamble-container" class="gwamble-option" onclick="createGwamble()">
            <span class="hidden-while-displayed">Start gwambling</span>
            <i id="create-gwamble-icon" class="ri-sticky-note-add-fill hidden-while-displayed"></i>

            <div id="create-gwamble-options">
                <span class="small-title">Subject</span>
                <textarea id="create-gwamble-subject" placeholder="What are we gwambling on?"></textarea>

                <span class="small-title">Outcome A</span>
                <input type="text" placeholder="...">
 
                <span class="small-title">Outcome B</span>
                <input style = "margin-bottom:20px" type="text" placeholder="...">
 
                <button onclick="closeCreateGwamble()" class="cancel">Cancel</button>
                <button>Post</button>
            </div>
        </div>

        <div id="join-gwamble-container" class="gwamble-option">
            <span>Join a gwamble</span>
            <i id="join-gwamble-icon" class="ri-link-m"></i>
        </div>

    </div>
</body>
<script src="js/lib/uikit.js"></script>
<script>


    var create_gwamble_is_triggered = false;
    var join_gwamble_is_triggered = false;

    function createGwamble() {
        console.log("create gwamble");
        const createContainer = document.getElementById('create-gwamble-container');
        const createOptions = document.getElementById('create-gwamble-options');
        const hiddenElements = document.getElementsByClassName('hidden-while-displayed');
        document.getElementById('join-gwamble-container').style.display = "none";


        for (var i = 0; i < hiddenElements.length; i++) {
            hiddenElements[i].style.display = "none";
        }

        setTimeout(function () {
            createOptions.style.opacity = "1"; // Ensure opacity is set correctly
            createOptions.style.pointerEvents = "all";
            // Ensure the container's height can expand
            createContainer.style.height = "auto";
            createOptions.style.display = "flex";
            createContainer.onclick = null;
        }, 1);
        create_gwamble_is_triggered = true;
    }

    function closeCreateGwamble() {
        console.log("close create gwamble");
        const createContainer = document.getElementById('create-gwamble-container');
        const createOptions = document.getElementById('create-gwamble-options');
        const hiddenElements = document.getElementsByClassName('hidden-while-displayed');

        createOptions.style.opacity = "0";
        createOptions.style.display = "none";

        for (var i = 0; i < hiddenElements.length; i++) {
            hiddenElements[i].style.display = "flex";
        }

        setTimeout(function () {
            createContainer.classList.remove('open'); // Remove class to trigger transition
            document.getElementById('join-gwamble-container').style.display = "flex";
            createContainer.onclick = function () {
                createGwamble();
            };
        }, 1);
        create_gwamble_is_triggered = false;
    }



</script>

</html>
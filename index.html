<!DOCTYPE html>
<html>

<head>
    <title>GWAMBLE</title>
    <link rel="stylesheet" type="text/css" href="css/lib/remixicon.css">
    <link rel="stylesheet" type="text/css" href="css/lib/uikit.css">
    <link rel="stylesheet" type="text/css" href="css/custom/index.css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="theme-color" content="#000">
    <meta name="background-color" content="#000">
    <meta name="msapplication-TileColor" content="#000">

</head>

<body>
    <nav id = "gwamble-bar" uk-navbar>
        <h1>gwamble</h1>
    </nav>

    <div id = "gwamble-body">

    <div id = "create-gwamble-container" class = "gwamble-option" onclick = "createGwamble()">
    <span class = "hidden-while-displayed" >Start gwambling</span>
    <i id = "create-gwamble-icon" class="ri-sticky-note-add-fill hidden-while-displayed"></i>

    <div id = "create-gwamble-options">
        <span class = "small-title" >Subject</span>
        <textarea id = "create-gwamble-subject" placeholder = "..."></textarea>
        <br>
        <span class = "small-title" >Outcome A</span>
        <input type = "text" placeholder = "...">
        <br>
        <span class = "small-title" >Outcome B</span>
        <input type = "text" placeholder = "...">
        <br>
        <br>
    <button onclick = "closeCreateGwamble()" class = "cancel">Cancel</button>
    <button>Post</button>
    </div>
    </div>

    <div id = "join-gwamble-container" class = "gwamble-option">
    <span>Join a gwamble</span>
    <i id = "join-gwamble-icon" class="ri-link-m"></i>
    </div>

    </div>
</body>
<script src="js/lib/uikit.js"></script>
<script>


    var create_gwamble_is_triggered = false;
    var join_gwamble_is_triggered = false;

    function createGwamble() {
        console.log("create gwamble");
        document.getElementById('create-gwamble-container').style.flexDirection = "column";
        document.getElementById('create-gwamble-container').style.height = "0";
        document.getElementById('create-gwamble-container').offsetHeight;
        document.getElementById('create-gwamble-container').style.height = "inherit";
        document.getElementById('create-gwamble-options').style.display = "flex";
        // any elements with the class "hidden-while-displayed" will be hidden
        for (var i = 0; i < document.getElementsByClassName('hidden-while-displayed').length; i++) {
            document.getElementsByClassName('hidden-while-displayed')[i].style.display = "none";
        }
        setTimeout(function() {
            document.getElementById('create-gwamble-options').style.opacity = "100%";
            document.getElementById('create-gwamble-options').style.pointerEvents = "all";
            document.getElementById('join-gwamble-container').style.display = "none";   
            document.getElementById('create-gwamble-container').onclick = null;
        }, 1);
        create_gwamble_is_triggered = true;
    }


    function closeCreateGwamble() {
        console.log("close create gwamble");
        document.getElementById('create-gwamble-options').style.opacity = "0";
        document.getElementById('create-gwamble-options').style.display = "none";
        document.getElementById('create-gwamble-container').style.height = "0";
        
        for (var i = 0; i < document.getElementsByClassName('hidden-while-displayed').length; i++) {
            document.getElementsByClassName('hidden-while-displayed')[i].style.display = "flex";
        }

        setTimeout(function() {
            document.getElementById('create-gwamble-container').style.height = "unset";
            document.getElementById('join-gwamble-container').style.display = "flex";
            document.getElementById('create-gwamble-container').style.flexDirection = "row";
            document.getElementById('create-gwamble-container').onclick = function() {
                createGwamble();
            };
        }, 1);
        create_gwamble_is_triggered = false;
    }

    


</script>

</html>